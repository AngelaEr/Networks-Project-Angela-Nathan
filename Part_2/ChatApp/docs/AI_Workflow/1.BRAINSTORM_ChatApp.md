# ×¡×™×›×•× BrainStorm â†’ Planner
## ×¤×¨×•×™×§×˜: ××¤×œ×™×§×¦×™×™×ª ×¦'××˜ ×¨×©×ª×•×ª ××—×©×‘×™×

---

## 1. ×¡×§×™×¨×” ×›×œ×œ×™×ª

**××˜×¨×ª ×”×¤×¨×•×™×§×˜:** ×‘× ×™×™×ª ××¤×œ×™×§×¦×™×™×ª ×¦'××˜ ××‘×•×¡×¡×ª Web ×¢× ×ª×§×©×•×¨×ª TCP/IP ×˜×”×•×¨×” (×œ×œ× frameworks), ×œ×¦×•×¨×š ×œ×™××•×“ ×•× ×™×ª×•×— ×ª×¢×‘×•×¨×ª ×¨×©×ª ×‘-Wireshark.

**×¦×•×•×ª:** ×©× ×™ ××—×©×‘×™×
- **××—×©×‘ A**: ××¨×™×¥ ××ª ×”×©×¨×ª
- **××—×©×‘ B**: ××¨×™×¥ ××ª ×”×œ×§×•×—×•×ª (×“×¤×“×¤×Ÿ)

---

## 2. ×“×¨×™×©×•×ª ×˜×›× ×™×•×ª

### 2.1 ××™×œ×•×¦×™× (Constraints)
| ××™×œ×•×¥ | ×¤×™×¨×•×˜ |
|-------|-------|
| **×œ×œ× frameworks** | ××¡×•×¨ Flask, Django, FastAPI, Spring ×•×›×•' |
| **Pure Sockets ×‘×œ×‘×“** | ×›×œ ×”×ª×§×©×•×¨×ª ×“×¨×š `socket` module |
| **Cross-platform** | ×—×™×™×‘ ×œ×¢×‘×•×“ ×¢×œ Mac ×•-Windows |
| **5+ ×œ×§×•×—×•×ª** | ×ª××™×›×” ×‘××™× ×™××•× 5 ×œ×§×•×—×•×ª ×‘×•-×–×× ×™×ª |

### 2.2 ×”×—×œ×˜×•×ª ××¨×›×™×˜×§×˜×•×¨×”
| × ×•×©× | ×”×—×œ×˜×” |
|------|--------|
| **UI** | Web Browser (HTML/CSS/JS) |
| **×¤×¨×•×˜×•×§×•×œ** | Raw TCP Sockets + HTTP + WebSocket (××™××•×© ×™×“× ×™) |
| **×¤×•×¨×˜** | ×¤×•×¨×˜ ×™×—×™×“ (8080) ×œHTTP ×•-WebSocket |
| **Async** | Threading |
| **×©×¤×”** | Python |
| **×ª×™×¢×•×“** | ×¢×‘×¨×™×ª |

---

## 3. ××¨×›×™×˜×§×˜×•×¨×”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SERVER (××—×©×‘ A)                              â”‚
â”‚                    Python + Pure Sockets                             â”‚
â”‚                         Port 8080                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Main Socket Listener                       â”‚   â”‚
â”‚  â”‚              socket.socket(AF_INET, SOCK_STREAM)              â”‚   â”‚
â”‚  â”‚                      bind + listen                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                       â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚              â–¼                               â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    HTTP Handler     â”‚         â”‚     WebSocket Handler       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â€¢ Parse HTTP requestâ”‚         â”‚ â€¢ Detect Upgrade header     â”‚   â”‚
â”‚  â”‚ â€¢ GET / â†’ index.htmlâ”‚         â”‚ â€¢ Perform WS handshake      â”‚   â”‚
â”‚  â”‚ â€¢ GET /style.css    â”‚         â”‚ â€¢ Frame/Unframe messages    â”‚   â”‚
â”‚  â”‚ â€¢ GET /script.js    â”‚         â”‚ â€¢ Broadcast to all clients  â”‚   â”‚
â”‚  â”‚ â€¢ Content-Type      â”‚         â”‚ â€¢ Handle join/leave events  â”‚   â”‚
â”‚  â”‚ â€¢ Close connection  â”‚         â”‚ â€¢ Keep connection alive     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                              â”‚                       â”‚
â”‚                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚                                  â–¼                       â–¼          â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚                          â”‚  Thread 1  â”‚   ...    â”‚  Thread N  â”‚     â”‚
â”‚                          â”‚  Client 1  â”‚          â”‚  Client N  â”‚     â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                      â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚                    â”‚   Connected Clients List   â”‚                   â”‚
â”‚                    â”‚   (thread-safe dictionary) â”‚                   â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                          TCP/IP Network
                         (Wireshark Capture)
                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENTS (××—×©×‘ B)                             â”‚
â”‚                        Web Browser Ã— 5+                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                      index.html                              â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚   â”‚  â”‚  Username: [___________]                             â”‚    â”‚   â”‚
â”‚   â”‚  â”‚  Server:   [___________:8080]  [Connect]             â”‚    â”‚   â”‚
â”‚   â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚   â”‚
â”‚   â”‚  â”‚                                                      â”‚    â”‚   â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚   â”‚
â”‚   â”‚  â”‚  â”‚ [14:32:05] SYSTEM: Nathan joined the chat      â”‚ â”‚    â”‚   â”‚
â”‚   â”‚  â”‚  â”‚ [14:32:10] SYSTEM: Angela joined the chat      â”‚ â”‚    â”‚   â”‚
â”‚   â”‚  â”‚  â”‚ [14:32:15] Nathan: Hello everyone!             â”‚ â”‚    â”‚   â”‚
â”‚   â”‚  â”‚  â”‚ [14:32:20] Angela: Hi Nathan!                  â”‚ â”‚    â”‚   â”‚
â”‚   â”‚  â”‚  â”‚ [14:35:00] SYSTEM: Nathan left the chat        â”‚ â”‚    â”‚   â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚   â”‚
â”‚   â”‚  â”‚                                                      â”‚    â”‚   â”‚
â”‚   â”‚  â”‚  Message: [________________________] [Send]          â”‚    â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚   JavaScript: WebSocket API (native browser)                         â”‚
â”‚   const ws = new WebSocket("ws://SERVER_IP:8080");                  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ×¤×¨×•×˜×•×§×•×œ ×”×•×“×¢×•×ª

### 4.1 ×¤×•×¨××˜
```
USERNAME|MESSAGE|TIMESTAMP
```

### 4.2 ×“×•×’×××•×ª
```
Nathan|Hello everyone!|2024-01-15 14:32:15
SYSTEM|Angela joined the chat|2024-01-15 14:32:10
SYSTEM|Nathan left the chat|2024-01-15 14:35:00
Angela|××” ×§×•×¨×”?|2024-01-15 14:32:20
```

### 4.3 ×¡×•×’×™ ×”×•×“×¢×•×ª
| ×¡×•×’ | USERNAME | ×ª×™××•×¨ |
|-----|----------|--------|
| ×”×•×“×¢×ª ××©×ª××© | ×©× ×”××©×ª××© | ×”×•×“×¢×” ×¨×’×™×œ×” |
| ×”×¦×˜×¨×¤×•×ª | `SYSTEM` | `USERNAME joined the chat` |
| ×¢×–×™×‘×” | `SYSTEM` | `USERNAME left the chat` |

---

## 5. ××‘× ×” ×§×‘×¦×™× ××•×¦×¢

```
ğŸ“ ChatApp/
â”œâ”€â”€ ğŸ“ server/
â”‚   â”œâ”€â”€ server.py              # Main server script
â”‚   â”œâ”€â”€ http_handler.py        # HTTP protocol implementation
â”‚   â”œâ”€â”€ websocket_handler.py   # WebSocket protocol implementation
â”‚   â””â”€â”€ client_manager.py      # Thread-safe client management
â”‚
â”œâ”€â”€ ğŸ“ client/
â”‚   â”œâ”€â”€ index.html             # Main chat UI
â”‚   â”œâ”€â”€ style.css              # Styling
â”‚   â””â”€â”€ script.js              # WebSocket client logic
â”‚
â”œâ”€â”€ ğŸ“ docs/
â”‚   â”œâ”€â”€ README.md              # ×¡×§×™×¨×” ×›×œ×œ×™×ª
â”‚   â”œâ”€â”€ SETUP.md               # ×”×•×¨××•×ª ×”×ª×§× ×” (Mac + Windows)
â”‚   â”œâ”€â”€ USER_GUIDE.md          # ××“×¨×™×š ×œ××©×ª××©
â”‚   â””â”€â”€ TECHNICAL.md           # ×ª×™×¢×•×“ ×˜×›× ×™
â”‚
â””â”€â”€ ğŸ“ wireshark/
    â””â”€â”€ capture_guide.md       # ×”×•×¨××•×ª ×œ×›×™×“×” ×•× ×™×ª×•×— ×‘-Wireshark
```

---

## 6. ×¨×›×™×‘×™× ×œ×¤×™×ª×•×—

### 6.1 Server Side (Python)

#### A. HTTP Handler (××™××•×© ×™×“× ×™)
```python
# ×œ×¤×¨×¡×¨:
# - Request line: GET /path HTTP/1.1
# - Headers: Host, Upgrade, Connection, Sec-WebSocket-Key
# - ×œ×©×œ×•×— ×ª×©×•×‘×” ×¢× Content-Type ××ª××™×
```

**×ª××™×›×” ×‘:**
- `GET /` â†’ index.html (text/html)
- `GET /style.css` â†’ style.css (text/css)
- `GET /script.js` â†’ script.js (application/javascript)
- `Upgrade: websocket` â†’ ×”×¢×‘×¨ ×œ-WebSocket Handler

#### B. WebSocket Handler (××™××•×© ×™×“× ×™)
**Handshake:**
```
1. ×§×‘×œ Sec-WebSocket-Key ××”×œ×§×•×—
2. ×—×©×‘ Accept Key: base64(sha1(key + GUID))
3. ×©×œ×— HTTP 101 Switching Protocols
```

**Framing:**
```
- Parse WebSocket frames (opcode, mask, payload length)
- Unmask client messages
- Frame server messages (no mask)
- Handle: text frames, close frames, ping/pong
```

#### C. Client Manager
```python
# Thread-safe dictionary
connected_clients = {}  # {socket: {"username": str, "address": tuple}}

# Functions:
# - add_client(socket, username)
# - remove_client(socket)
# - broadcast(message)  # ×©×œ×— ×œ×›×œ ×”×œ×§×•×—×•×ª
# - get_client_list()
```

### 6.2 Client Side (HTML/CSS/JS)

#### A. index.html
- ×©×“×” Username
- ×©×“×” Server address
- ×›×¤×ª×•×¨ Connect/Disconnect
- ××–×•×¨ ×”×•×“×¢×•×ª (scrollable)
- ×©×“×” ×”×•×“×¢×” + ×›×¤×ª×•×¨ Send

#### B. style.css
- ×¢×™×¦×•×‘ × ×§×™ ×•××•×“×¨× ×™
- Responsive
- ×”×•×“×¢×•×ª ××¢×¨×›×ª ×‘×¦×‘×¢ ×©×•× ×”
- Timestamps ×‘×’×•×¤×Ÿ ×§×˜×Ÿ ×™×•×ª×¨

#### C. script.js
```javascript
// WebSocket connection
let ws = null;

function connect(serverUrl, username) {
    ws = new WebSocket(`ws://${serverUrl}`);
    ws.onopen = () => sendJoin(username);
    ws.onmessage = (event) => displayMessage(event.data);
    ws.onclose = () => handleDisconnect();
}

function sendMessage(message) {
    const formatted = `${username}|${message}|${timestamp}`;
    ws.send(formatted);
}
```

---

## 7. ×ª×™×¢×•×“ × ×“×¨×© (×‘×¢×‘×¨×™×ª)

### 7.1 SETUP.md - ×”×•×¨××•×ª ×”×ª×§× ×”
```markdown
# ×”×ª×§× ×” ×•×”×¤×¢×œ×”

## ×“×¨×™×©×•×ª ××§×“×™××•×ª
- Python 3.8+
- ×“×¤×“×¤×Ÿ ××•×“×¨× ×™ (Chrome/Firefox/Safari)
- Wireshark (×œ× ×™×ª×•×— ×ª×¢×‘×•×¨×”)

## ×”×ª×§× ×” - Mac
...

## ×”×ª×§× ×” - Windows
...

## ×”×¤×¢×œ×ª ×”×©×¨×ª
...

## ×”×¤×¢×œ×ª ×”×œ×§×•×—
...
```

### 7.2 USER_GUIDE.md - ××“×¨×™×š ×œ××©×ª××©
```markdown
# ××“×¨×™×š ×©×™××•×© ×‘××¤×œ×™×§×¦×™×™×ª ×”×¦'××˜

## ×”×ª×—×‘×¨×•×ª ×œ×©×¨×ª
1. ×¤×ª×— ××ª ×”×“×¤×“×¤×Ÿ
2. ×’×© ×œ×›×ª×•×‘×ª http://SERVER_IP:8080
3. ×”×›× ×¡ ×©× ××©×ª××©
4. ×œ×—×¥ "×”×ª×—×‘×¨"

## ×©×œ×™×—×ª ×”×•×“×¢×•×ª
...

## × ×™×ª×•×§
...
```

### 7.3 CAPTURE_GUIDE.md - ×”×•×¨××•×ª Wireshark
```markdown
# ×œ×›×™×“×ª ×ª×¢×‘×•×¨×” ×‘-Wireshark

## ×”×’×“×¨×ª Filter
- tcp.port == 8080

## ××” ×œ×—×¤×©
- TCP 3-way handshake (SYN, SYN-ACK, ACK)
- HTTP GET requests
- WebSocket Upgrade (HTTP 101)
- WebSocket frames
- TCP connection teardown (FIN, ACK)
```

---

## 8. ×‘×“×™×§×•×ª (Test Scenarios)

| # | ×ª×¨×—×™×© | ×ª×•×¦××” ×¦×¤×•×™×” |
|---|-------|-------------|
| 1 | ×œ×§×•×— ××ª×—×‘×¨ | "X joined the chat" ××•×¤×™×¢ ×œ×›×œ ×”×œ×§×•×—×•×ª |
| 2 | ×œ×§×•×— ×©×•×œ×— ×”×•×“×¢×” | ×”×•×“×¢×” ××•×¤×™×¢×” ×œ×›×œ ×”×œ×§×•×—×•×ª ×¢× username + timestamp |
| 3 | ×œ×§×•×— ××ª× ×ª×§ | "X left the chat" ××•×¤×™×¢ ×œ×›×œ ×”×œ×§×•×—×•×ª |
| 4 | 5 ×œ×§×•×—×•×ª ×‘×•-×–×× ×™×ª | ×›×•×œ× ×¨×•××™× ××ª ×›×œ ×”×”×•×“×¢×•×ª |
| 5 | ×”×•×“×¢×” ×‘×¢×‘×¨×™×ª | ××•×¦×’×ª × ×›×•×Ÿ (UTF-8) |
| 6 | ×©×¨×ª × ×¡×’×¨ | ×œ×§×•×—×•×ª ××§×‘×œ×™× ×”×•×“×¢×ª ×©×’×™××” |
| 7 | Wireshark capture | ×¨×•××™× TCP handshake, HTTP, WebSocket frames |

---

## 9. ×¡×™×›×•× ×œPlanner

### ××©×™××•×ª ×¢×™×§×¨×™×•×ª:
1. **××™××•×© HTTP Server** - ×¤×¨×¡×•×¨ ×‘×§×©×•×ª, ×”×’×©×ª ×§×‘×¦×™× ×¡×˜×˜×™×™×
2. **××™××•×© WebSocket Server** - handshake, framing, broadcast
3. **Client Manager** - × ×™×”×•×œ ×œ×§×•×—×•×ª thread-safe
4. **Web UI** - HTML/CSS/JS ×œ×××©×§ ×”×¦'××˜
5. **×ª×™×¢×•×“** - ×”×•×¨××•×ª ×”×ª×§× ×”, ××“×¨×™×š ×œ××©×ª××©, ×”×•×¨××•×ª Wireshark

### ×¡×“×¨ ×¢×“×™×¤×•×™×•×ª:
1. ×©×¨×ª HTTP ×‘×¡×™×¡×™ (××’×™×© index.html)
2. WebSocket handshake
3. WebSocket messaging + broadcast
4. UI ××œ×
5. ×ª×™×¢×•×“
6. ×‘×“×™×§×•×ª

### ××ª×’×¨×™× ×¦×¤×•×™×™×:
- ××™××•×© WebSocket framing × ×›×•×Ÿ (masking, opcodes)
- Thread safety ×‘× ×™×”×•×œ ×œ×§×•×—×•×ª
- Cross-platform compatibility (line endings, paths)
- UTF-8 encoding ×œ×¢×‘×¨×™×ª

---

*× ×•×¦×¨ ×¢×œ ×™×“×™ BrainStorm Agent*
*×ª××¨×™×š: 2024-01-15*
